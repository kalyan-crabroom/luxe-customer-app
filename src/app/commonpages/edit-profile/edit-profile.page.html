<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="" defaultHref="/" icon="assets/icons/back-btn-arrow.svg"></ion-back-button>
    </ion-buttons>
    <ion-title>Edit profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="edit_profile" (ngSubmit)="onSubmit(edit_profile.value)">
    <ion-grid class="ion-padding" [fixed]="true">
      <ion-row>
        <ion-col size="12" class="ion-text-center">
          <ion-avatar class="profile-img">
            <img alt="" [src]="profile_img" onerror="this.src='/assets/images/user1-image.jpg'" />
            <ion-icon class="pen" src="assets/icons/edit.svg" (click)="takePicture()"></ion-icon>
          </ion-avatar>
          
        </ion-col>
        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="person-circle" slot="start"></ion-icon>
            <ion-input placeholder="Enter First Name" formControlName="first_name" appCapitalizeFirst></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.first_name">
            <p class="err"
              *ngIf="edit_profile.get('first_name')?.hasError(validation.type) && (edit_profile.get('first_name')?.dirty || edit_profile.get('first_name')?.touched)">
              <ion-icon name="information-circle-outline"></ion-icon>{{ validation.message }}
            </p>
          </ng-container>
        </ion-col>
        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="person-circle" slot="start"></ion-icon>
            <ion-input placeholder="Enter Last Name" formControlName="last_name" appCapitalizeFirst></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.last_name">
            <p class="err"
              *ngIf="edit_profile.get('last_name')?.hasError(validation.type) && (edit_profile.get('last_name')?.dirty || edit_profile.get('last_name')?.touched)">
              <ion-icon name="information-circle-outline"></ion-icon>{{ validation.message }}
            </p>
          </ng-container>
        </ion-col>
        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="mail" slot="start"></ion-icon>
            <ion-input placeholder="Enter Email Address" formControlName="email" [readonly]="true"></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.email">
            <p class="err"
              *ngIf="edit_profile.get('email')?.hasError(validation.type) && (edit_profile.get('email')?.dirty || edit_profile.get('email')?.touched)">
              <ion-icon name="information-circle-outline"></ion-icon>{{ validation.message }}
            </p>
          </ng-container>
        </ion-col>

        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="location" slot="start"></ion-icon>
            <ion-input placeholder="ZIP Code" formControlName="zip_code"></ion-input>
          </ion-item>
          <ng-container *ngFor="let validation of validation_messages.zip_code">
            <p class="err"
              *ngIf="edit_profile.get('zip_code')?.hasError(validation.type) && (edit_profile.get('zip_code')?.dirty || edit_profile.get('zip_code')?.touched)">
              <ion-icon name="information-circle-outline"></ion-icon>{{ validation.message }}
            </p>
          </ng-container>
        </ion-col>

        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="call" slot="start"></ion-icon>
            <ion-input placeholder="Phone Number" formControlName="phone"></ion-input>
          </ion-item>

          <ng-container *ngFor="let validation of validation_messages.phone">
            <p class="err"
              *ngIf="edit_profile.get('phone')?.hasError(validation.type) && (edit_profile.get('phone')?.dirty || edit_profile.get('phone')?.touched)">
              <ion-icon name="information-circle-outline"></ion-icon>{{ validation.message }}
            </p>
          </ng-container>
        </ion-col>

        <ion-col size="12">
          <ion-item lines="none" class="field">
            <ion-icon name="lock-closed" slot="start"></ion-icon>
            <ion-input type="password" value="12345789" placeholder="Enter Password" [readonly]="true"></ion-input>
            <ion-note class="edit-text" routerLink="/change-password">Edit Password</ion-note>
          </ion-item>

        </ion-col>
        <ion-col size="12" size-md="6" offset-md="3">
          <ion-button expand="block" class="primary-btn" type="submit"
            [disabled]="!edit_profile.valid">Submit</ion-button>
        </ion-col>
        <ion-col size="12" class="ion-text-center delete-account" routerLink="/delete-account">
          <ion-text>Delete Account</ion-text>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>